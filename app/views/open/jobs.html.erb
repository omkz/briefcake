<p class="mb-6">
  Enqueued jobs: <strong><%= @jobs.count %></strong> <br>
  Emails sent today: <strong><%= @todays_emails.count %></strong><br>
</p>

<table class="table">
  <thead>
  <tr>
    <th>Run at / Duration in seconds</th>
    <th>Priority</th>
    <th>Queue / Info</th>
    <th>Created at</th>
  </tr>
  </thead>
  <tbody>
  <% @jobs.order(priority: :asc).each do |job| %>
    <tr>
      <td>
        <%= job.run_at %>
      </td>
      <td><%= job.priority %></td>
      <td>
        <pre><%= job.queue %></pre>
      </td>
      <td><%= l(job.created_at, format: :short) %></td>
    </tr>
  <% end %>
  <% @todays_emails.each do |sent_email| %>
    <tr class="bg-green-100">
      <td>
        <%= embedded_svg("checkmark.svg", class: "inline-block flex-shrink-0 w-4 h-4 mr-2 p-1 bg-green-200 text-green-700 fill-current rounded-full") %>
        <%= ActiveSupport::Duration.build(sent_email.compose_duration_in_seconds.round).inspect %>
      </td>
      <td>-</td>
      <td><%= sent_email.number_of_items %> items</td>
      <td><%= l(sent_email.created_at, format: :short) %></td>
    </tr>
  <% end %>
  </tbody>
</table>
